<!doctype html>
<html lang="de-CH">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>EigenverbrauchMax Präsentation</title>
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="shortcut icon" type="image/svg+xml" href="favicon.svg">
  <link rel="stylesheet" href="styles.css">
</head>
<body class="page-praesentation">
  <div class="top-actions">
    <a class="quick-link" href="index.html">Zurück zum Rechner</a>
  </div>

  <main id="deck" class="deck" aria-label="Präsentation EigenverbrauchMax">
    <section id="slide-1" class="slide slide-1" aria-label="Slide 1 von 3">
      <div class="slide-inner">
        <header class="hero">
          <h1>Solarstrom aus deiner Nachbarschaft</h1>
          <p>Mit EigenverbrauchMax von Thurplus erhältst du lokalen Solarstrom und senkst so deine Stromkosten.</p>
        </header>

        <div class="cards">
          <article class="card card-third">
            <div class="card-head">
              <h3>Was ist EigenverbrauchMax</h3>
            </div>
            <div class="card-body">
              <p>EigenverbrauchMax von Thurplus ist eine einfache Lösung für geteilten Solarstrom. Du nutzt Strom aus deiner Nachbarschaft direkt in deinem Alltag.</p>
              <div class="chip">Geteilter Solarstrom</div>
            </div>
          </article>

          <article class="card card-third">
            <div class="card-head">
              <h3>Wie funktioniert das</h3>
            </div>
            <div class="card-body">
              <p>In deiner Umgebung wird Solarstrom produziert. Thurplus verteilt die Strommengen fair auf alle Teilnehmenden. So kommt der Strom dorthin wo er gebraucht wird.</p>
              <div class="chip">Einfach und transparent</div>
            </div>
          </article>

          <article class="card card-third">
            <div class="card-head">
              <h3>Wer übernimmt die Abrechnung</h3>
            </div>
            <div class="card-body">
              <p>Thurplus übernimmt Messung Verrechnung und Inkasso für dich. An deiner bisherigen Abrechnung ändert sich nichts und alles bleibt wie bis anhin. Neu wird dein Solarstrom aus der Nachbarschaft direkt und transparent über die reguläre Stromrechnung abgerechnet.</p>
              <div class="chip">Thurplus übernimmt alles</div>
            </div>
          </article>
        </div>
      </div>
    </section>

    <section id="slide-2" class="slide slide-2" aria-label="Slide 2 von 3">
      <div class="slide-inner">
        <header class="hero">
          <h2>Was bringt es Solarstrom lokal zu nutzen</h2>
          <p>Die Stromkundschaft spart mit lokalem Solarstrom Geld und auch Betreibende Umwelt und Netz profitieren.</p>
        </header>

        <div class="cards">
          <article class="card card-third">
            <div class="card-head">
              <h3>Nutzen für Solaranlagenbetreiber</h3>
            </div>
            <div class="card-body">
              <p>Mehr Solarstrom direkt zu verkaufen verkürzt die Amortisationsdauer der Anlage.</p>
              <div class="chip">Mehr Ertrag</div>
            </div>
          </article>

          <article class="card card-third">
            <div class="card-head">
              <h3>Nutzen für Bewohnende</h3>
            </div>
            <div class="card-body">
              <p>Du kannst lokalen Solarstrom nutzen auch ohne eigene Solaranlage. Das ist einfach und bringt erneuerbare Energie direkt in deinen Alltag. Lokaler Solarstrom stabilisiert den schwankenden Strompreis teilweise und macht deine Kosten besser planbar.</p>
              <div class="chip">Direkt sparen</div>
            </div>
          </article>

          <article class="card card-third">
            <div class="card-head">
              <h3>Nutzen für Umwelt und Netz</h3>
            </div>
            <div class="card-body">
              <p>Mehr Solarstrom wird direkt vor Ort genutzt und das stärkt die Umwelt und entlastet das Netz.</p>
              <div class="chip">Umwelt und Netz</div>
            </div>
          </article>
        </div>
      </div>
    </section>

    <section id="slide-3" class="slide slide-3" aria-label="Slide 3 von 3">
      <div class="slide-inner">
        <header class="hero">
          <h2>Kosten und Einsparung im Überblick</h2>
          <p>Du siehst auf einen Blick welche Einsparung möglich ist und welche Startkosten anfallen.</p>
        </header>

        <div class="cards">
          <article class="card card-third">
            <div class="card-head">
              <h3>Beispiel ohne eigene Solaranlage</h3>
            </div>
            <div class="card-body">
              <p>Ein Haushalt mit 4 Personen und 250 kWh pro Monat spart rund 130 Franken pro Jahr.</p>
              <p>Ein Haushalt mit 2 Personen und 150 kWh pro Monat spart rund 65 Franken pro Jahr.</p>
              <div class="chip">Bis 130 Franken sparen</div>
            </div>
          </article>

          <article class="card card-third">
            <div class="card-head">
              <h3>Beispiel mit eigener Solaranlage</h3>
            </div>
            <div class="card-body">
              <p>Wenn du Solarstrom an Nachbarn weitergibst steigt der Eigenverbrauch deiner Anlage.</p>
              <p>Der Mehrertrag liegt bei mindestens 50 bis 75 Franken pro Jahr.</p>
              <p>Mit steigendem Verbrauch durch Wärmepumpen und E Autos kann der Mehrertrag weiter steigen.</p>
              <div class="chip">Mehrertrag ab 50 Franken</div>
            </div>
          </article>

          <article class="card card-third">
            <div class="card-head">
              <h3>Initialkosten</h3>
            </div>
            <div class="card-body">
              <p>Einmalige Einrichtungspauschale 490 CHF pro Gemeinschaft.</p>
              <p>Mutationspauschale 60 CHF pro nachträgliche Anpassung.</p>
              <p class="result-highlight">Monatliche Verrechnungsdienstleistung 3 CHF pro Zähler.</p>
              <div class="chip">Klare Startkosten</div>
            </div>
          </article>
        </div>

        <p class="note">Die Wirkung verbessert sich mit passendem Verbrauchsprofil und guter lokaler Solarverfügbarkeit.</p>
      </div>
    </section>
  </main>

  <nav class="controls" aria-label="Slide Navigation">
    <button id="prevBtn" type="button">Zurück</button>
    <div id="slideIndicator" class="slide-indicator" aria-live="polite">1 / 3</div>
    <button id="nextBtn" type="button">Weiter</button>
  </nav>

  <script>
    (function () {
      var deck = document.getElementById("deck");
      var slides = Array.prototype.slice.call(deck.querySelectorAll(".slide"));
      var prevBtn = document.getElementById("prevBtn");
      var nextBtn = document.getElementById("nextBtn");
      var slideIndicator = document.getElementById("slideIndicator");
      var activeIndex = 0;
      var reducedMotion = window.matchMedia("(prefers-reduced-motion: reduce)").matches;

      function clampIndex(index) {
        if (index < 0) {
          return 0;
        }
        if (index > slides.length - 1) {
          return slides.length - 1;
        }
        return index;
      }

      function updateUi() {
        slideIndicator.textContent = (activeIndex + 1) + " / " + slides.length;
        prevBtn.disabled = activeIndex === 0;
        nextBtn.disabled = activeIndex === slides.length - 1;
      }

      function goToSlide(index) {
        activeIndex = clampIndex(index);
        slides[activeIndex].scrollIntoView({
          behavior: reducedMotion ? "auto" : "smooth",
          block: "start"
        });
        updateUi();
      }

      function handleKeyNavigation(event) {
        var tag = event.target && event.target.tagName ? event.target.tagName.toLowerCase() : "";
        if (tag === "input" || tag === "textarea" || tag === "select" || event.target.isContentEditable) {
          return;
        }

        if (event.key === "ArrowRight" || event.key === "ArrowDown" || event.key === "PageDown" || event.key === " ") {
          event.preventDefault();
          goToSlide(activeIndex + 1);
        } else if (event.key === "ArrowLeft" || event.key === "ArrowUp" || event.key === "PageUp") {
          event.preventDefault();
          goToSlide(activeIndex - 1);
        } else if (event.key === "Home") {
          event.preventDefault();
          goToSlide(0);
        } else if (event.key === "End") {
          event.preventDefault();
          goToSlide(slides.length - 1);
        }
      }

      function syncActiveSlideFromViewport() {
        var bestIndex = activeIndex;
        var bestDistance = Number.POSITIVE_INFINITY;
        for (var i = 0; i < slides.length; i += 1) {
          var distance = Math.abs(slides[i].offsetTop - deck.scrollTop);
          if (distance < bestDistance) {
            bestDistance = distance;
            bestIndex = i;
          }
        }
        if (bestIndex !== activeIndex) {
          activeIndex = bestIndex;
          updateUi();
        }
      }

      function getBestTitleBreakIndex(words) {
        var bestIndex = 1;
        var bestDelta = Number.POSITIVE_INFINITY;
        for (var i = 1; i < words.length; i += 1) {
          var leftLength = words.slice(0, i).join(" ").length;
          var rightLength = words.slice(i).join(" ").length;
          var delta = Math.abs(leftLength - rightLength);
          if (delta < bestDelta) {
            bestDelta = delta;
            bestIndex = i;
          }
        }
        return bestIndex;
      }

      function splitSingleLineCardTitles() {
        var titles = deck.querySelectorAll(".card-head h3");
        for (var i = 0; i < titles.length; i += 1) {
          var title = titles[i];
          if (title.dataset.splitApplied === "true") {
            continue;
          }

          var cleanText = title.textContent.replace(/\s+/g, " ").trim();
          if (!cleanText) {
            continue;
          }

          var words = cleanText.split(" ");
          if (words.length <= 1) {
            continue;
          }

          var style = window.getComputedStyle(title);
          var lineHeight = parseFloat(style.lineHeight);
          if (Number.isNaN(lineHeight)) {
            continue;
          }

          var isSingleLine = title.scrollHeight <= lineHeight * 1.3;
          if (!isSingleLine) {
            continue;
          }

          var breakIndex = getBestTitleBreakIndex(words);
          var firstLine = words.slice(0, breakIndex).join(" ");
          var secondLine = words.slice(breakIndex).join(" ");

          title.textContent = "";
          var lineOne = document.createElement("span");
          lineOne.className = "title-line";
          lineOne.textContent = firstLine;
          var lineTwo = document.createElement("span");
          lineTwo.className = "title-line";
          lineTwo.textContent = secondLine;

          title.appendChild(lineOne);
          title.appendChild(lineTwo);
          title.dataset.splitApplied = "true";
        }
      }

      prevBtn.addEventListener("click", function () {
        goToSlide(activeIndex - 1);
      });

      nextBtn.addEventListener("click", function () {
        goToSlide(activeIndex + 1);
      });

      deck.addEventListener("scroll", function () {
        window.requestAnimationFrame(syncActiveSlideFromViewport);
      }, { passive: true });

      window.addEventListener("keydown", handleKeyNavigation);

      window.requestAnimationFrame(function () {
        window.requestAnimationFrame(splitSingleLineCardTitles);
      });

      updateUi();
    })();
  </script>
</body>
</html>
